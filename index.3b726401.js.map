{"mappings":"CAEa,CACXA,WAAYC,SAASC,cAAc,gBACnCC,gBAAiBF,SAASC,cAAc,YACxCE,YAAaH,SAASC,cAAc,gBAkBjCF,WAAWK,iBAAiB,UAAU,MA+CvC,WAEI,MAAMC,EAAW,0BACXC,EAAU,qCACVC,EAAS,IAAIC,gBAAgB,CAC/BC,SAAU,EACVC,KAAM,IAOV,OAAOC,MAJK,GAAGN,UAAiBC,yFAElBC,KAGTK,MACIC,IACG,IAAKA,EAASC,GACV,MAAM,IAAIC,MAAMF,EAASG,QAG7B,OAAOH,EAASI,MAAM,G,EA7DtCC,GACKN,MAAMO,IACHC,QAAQC,IAAIC,UA0EhB,SAAqBH,GAGjB,MAAMI,EAASJ,EACVK,KAAI,EAACC,SAAEA,EAAQC,UAAEA,EAASC,MAAEA,EAAKC,KAAEA,EAAIC,MAAEA,EAAKC,aAAEA,KACtC,+CACPA,WAAsBF,yGAGlBD,6EAGAE,gFAGGJ,iFAGCC,4CAKXK,KAAK,IACVX,QAAQC,IAAIE,GAGZrB,gBAAgB8B,UAAYT,C,CApGlCU,CAAYd,EAAQ,IASrBe,OAAOC,GAAUf,QAAQC,IAAIc,IAAO","sources":["src/index.js"],"sourcesContent":["\n\nconst refs = {\n  searchForm: document.querySelector('.search-form'),\n  photosContainer: document.querySelector('.gallery'),\n  loadMoreBtn: document.querySelector('.load-more'),\n};\n\n\n// const fetchPostsBtn = document.querySelector(\".btn\");\n// const postList = document.querySelector(\".posts\");\n// const alertPopup = document.querySelector(\".alert\");\n// let isAlertVisible = false;\n\n// // Controls the group number\n// let page = 1;\n// // Controls the number of items in the group\n// let limit = 5;\n// // In our case total number of pages is calculated on frontend\n// const totalPages = 100 / limit;\n\n// refs.searchForm.addEventListener('submit', onSearch);\n\nrefs.searchForm.addEventListener('submit', () => {\n\n    // e.preventDefault();\n    \n    // console.log(fetchPhotos());\n\n    fetchPhotos() \n        .then((gallery) => {\n            console.log(dgallery);\n      renderPosts(gallery);\n    //   // Increase the group number\n    //   page += 1;\n\n    //   // Replace button text after first request\n    //   if (page > 1) {\n    //     fetchPostsBtn.textContent = \"Fetch more posts\";\n    //   }\n    })\n    .catch((error) => console.log(error));\n\n\n});\n\n\n\n\n// function onSearch(e) {\n//     e.preventDefault();\n    \n//     // console.log(fetchPhotos());\n\n//     fetchPhotos() \n//         .then((data) => {\n//             console.log(data.hits);\n//       renderPosts();\n//     //   // Increase the group number\n//     //   page += 1;\n\n//     //   // Replace button text after first request\n//     //   if (page > 1) {\n//     //     fetchPostsBtn.textContent = \"Fetch more posts\";\n//     //   }\n//     })\n//     .catch((error) => console.log(error));\n\n\n\n    function fetchPhotos() {\n    \n        const BASE_URL = 'https://pixabay.com/api';\n        const API_KEY = '39342201-f813eddd1adb93dcbf05db88a';\n        const params = new URLSearchParams({\n            per_page: 3,\n            page: 1\n        });\n        \n        const url = `${BASE_URL}/?key=${API_KEY}&\n    q=yellow+flower&image_type=photo&orientation=horizontal&\n    safesearch=true&${params}`;\n\n        return fetch(url)\n            .then(\n                (response) => {\n                    if (!response.ok) {\n                        throw new Error(response.status);\n                    }\n                   \n                    return response.json();\n                    console.log(response.json());\n                }\n            );\n    }\n            // .then(response =>\n            //     response.json())\n            // .then(({ hits }) => {\n            //     this.incrementPage();\n            //     console.log(hits);\n            //     return hits;\n            // });\n    \n        // console.log(renderPosts());\n\n        function renderPosts(gallery) {\n            // console.log(data);\n            \n            const markup = gallery\n                .map(({ comments, downloads, likes, tags, views, webformatURL }) => {\n                    return `<div class=\"photo-card\">\n        <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n       <div class=\"info\">\n        <p class=\"info-item\">\n            <b>Likes: ${likes}</b>\n        </p>\n        <p class=\"info-item\">\n            <b>Views: ${views}</b>\n        </p>\n        <p class=\"info-item\">\n            <b>Comments: ${comments}</b>\n        </p>\n        <p class=\"info-item\">\n            <b>Downloads: ${downloads}</b>\n        </p>\n    </div>\n</div>`;\n                })\n                .join(\"\");\n            console.log(markup);\n            // photosContainer.insertAdjacentHTML(\"beforeend\", markup);\n\n            photosContainer.innerHTML = markup;\n        }\n    \n\n// fetchPostsBtn.addEventListener(\"click\", () => {\n//   // Check the end of the collection to display an alert\n//   if (page > totalPages) {\n//     return toggleAlertPopup();\n//   }\n\n//   fetchPosts()\n//     .then((posts) => {\n//       renderPosts(posts);\n//       // Increase the group number\n//       page += 1;\n\n//       // Replace button text after first request\n//       if (page > 1) {\n//         fetchPostsBtn.textContent = \"Fetch more posts\";\n//       }\n//     })\n//     .catch((error) => console.log(error));\n// });\n\n// function fetchPosts() {\n//   const params = new URLSearchParams({\n//     _limit: limit,\n//     _page: page\n//   });\n\n//   return fetch(`https://jsonplaceholder.typicode.com/posts?${params}`).then(\n//     (response) => {\n//       if (!response.ok) {\n//         throw new Error(response.status);\n//       }\n//       return response.json();\n//     }\n//   );\n// }\n    \n\n\n// function renderPosts(posts) {\n//   const markup = posts\n//     .map(({ id, title, body, userId }) => {\n//       return `<li>\n//           <h2 class=\"post-title\">${title.slice(0, 30)}</h2>\n//           <p><b>Post id</b>: ${id}</p>\n//           <p><b>Author id</b>: ${userId}</p>\n//           <p class=\"post-body\">${body}</p>\n//         </li>`;\n//     })\n//     .join(\"\");\n//   postList.insertAdjacentHTML(\"beforeend\", markup);\n// }\n\n// function toggleAlertPopup() {\n//   if (isAlertVisible) {\n//     return;\n//   }\n//   isAlertVisible = true;\n//   alertPopup.classList.add(\"is-visible\");\n//   setTimeout(() => {\n//     alertPopup.classList.remove(\"is-visible\");\n//     isAlertVisible = false;\n//   }, 3000);\n// }\n"],"names":["searchForm","document","querySelector","photosContainer","loadMoreBtn","addEventListener","BASE_URL","API_KEY","params","URLSearchParams","per_page","page","fetch","then","response","ok","Error","status","json","$1f0dc3b9307be026$var$fetchPhotos","gallery","console","log","dgallery","markup","map","comments","downloads","likes","tags","views","webformatURL","join","innerHTML","$1f0dc3b9307be026$var$renderPosts","catch","error"],"version":3,"file":"index.3b726401.js.map"}